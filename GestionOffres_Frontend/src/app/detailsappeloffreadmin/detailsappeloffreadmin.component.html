<div class="container">
  <div class="details-container">
    <div class="header-section">
      <div class="image-section">
        <img [src]="currentAppelOffre.img ? 'data:image/png;base64,' + currentAppelOffre.img : 'https://bootdey.com/img/Content/avatar/avatar7.png'" alt="Offer Image" class="offer-image">
      </div>
      <div class="offer-details-section">
        <h1 class="offer-title">{{ currentAppelOffre.titre }}</h1>
        <h2 class="section-title"></h2>
        <p class="offer-description">{{ currentAppelOffre.description }}</p>
        <span class="location-info">{{ currentAppelOffre.localisation }}</span>
        <a (click)="downloadDocumentAppelOffre(currentAppelOffre.id)" class="download-link">
          <i class="fas fa-file-pdf"></i> Détails
        </a>
      </div>
    </div>
    <div class="entreprise-info">
      <h2 class="section-title">Entreprise Info</h2>
      <table class="info-table">
        <tr>
          <th>Nom:</th>
          <td>{{ currentEntreprise.name }}</td>
        </tr>
        <tr>
          <th>Secteur d'activité:</th>
          <td>{{ currentEntreprise.secteuractivite }}</td>
        </tr>
        <tr>
          <th>Adresse:</th>
          <td>{{ currentEntreprise.adresse }}</td>
        </tr>
        <tr>
          <th>Ville:</th>
          <td>{{ currentEntreprise.ville }}</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="card mb-3">
    <div class="card-body">
      <h2 class="d-flex align-items-center mb-3">Liste des Offres</h2>
      <table class="table user-list">
        <thead>
          <tr>
            <th>Entreprise</th>
            <th>Numéro de téléphone</th>
            <th>Montant</th>
            <th>Date de dépôt</th>
            <th>Délais de réalisation</th>
            <th>Document de proposition</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let offre of offres">
            <td><a [routerLink]="['/consulterentreprise', offre.entrepriseid]">{{ getEnterpriseName(offre.entrepriseid) }}</a></td>
            <td>{{ offre.numtel }}</td>
            <td>{{ offre.montant }} TND</td>
            <td>{{ offre.datededepot | date }}</td>
            <td>{{ offre.delaisderealisation | date }}</td>
            <td>
              <a (click)="downloadDocument(offre.id)" class="download-link">
                <i class="fas fa-file-pdf"></i>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
